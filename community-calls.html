<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Blocksense Community Calls - Blocksense Network Monitor</title>
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <!-- Hard-looking font for the whole app -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
    <!-- Styles -->
    <link rel="stylesheet" href="light.css"/>
    <style>
        /* TAM EKRAN DÜZENİ */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background: var(--bg-color);
        }
        
        .container {
            width: 100%;
            min-height: 100vh;
            padding: 0;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            flex-shrink: 0;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.7);
            border-bottom: 2px solid var(--border-color);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: nowrap;
            gap: 15px;
        }
        
        .back-button {
            margin: 0;
            order: 2;
        }
        
        .back-button .litepaper-link {
            color: var(--text-color) !important;
        }
        
        /* Başlık ve tarih düzenlemesi */
        .title-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
            flex: 1;
            min-width: 0;
        }
        
        .title-row {
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 0;
        }
        
        .modern-header {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 0;
            font-size: 1.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .logo-icon {
            height: 40px;
            width: auto;
            flex-shrink: 0;
        }
        
        .call-date {
            font-size: 0.9rem; /* %25 küçültme (1.2 * 0.75 = 0.9) */
            color: var(--update-item-content-color);
            font-weight: 500;
            white-space: nowrap;
        }
        
        .header-description {
            margin-top: 5px;
            margin-left: 54px; /* Logo genişliği + gap kadar boşluk */`n        }`n        `n        /* Mobilde açıklama yazısını başlıkla hizalı yap */`n        @media (max-width: 768px) {`n            .header-description {`n                margin-left: 0px !important; /* Başlıkla hizalı - C harfinin altından başla */`n            }`n        }`n        }
        }
        
        /* Mobilde açıklama yazısını başlıkla hizalı yap */
        @media (max-width: 768px) {
            .header-description {
                margin-left: 0px !important; /* Başlıkla hizalı - C harfinin altından başla */
            }
        }
        
        /* Mobilde açıklama yazısını başlıkla hizalı yap */
        @media (max-width: 768px) {
            .header-description {
                margin-left: 0px !important; /* Başlıkla hizalı - C harfinin altından başla */
            }
        }
        
        .header-description p {
            margin: 0;
            font-size: 0.9rem;
            color: var(--update-item-content-color);
            font-weight: 500;
        }
        
        
        /* Ana içerik - tam ekran video ve transcript */
        .main-content {
            flex: 1;
            display: flex;
            padding: 15px;
            gap: 20px;
            height: auto;
            min-height: 0;
        }
        
        .video-section {
            flex: 3;
            display: flex;
            flex-direction: column;
            background: var(--container-bg);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            height: auto;
            transform: scale(0.9);
            transform-origin: center;
        }
        
        .transcript-section {
            flex: 2;
            display: flex;
            flex-direction: column;
            background: var(--container-bg);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            height: auto;
            margin-right: 40px;
            margin-bottom: 32px;
        }
        
        /* Video konteyneri - boyut ayarı */
        .video-container-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
            justify-content: center;
        }
        
        .video-container {
            width: 100%;
            height: 60%;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
            max-height: 450px;
        }
        
        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* Transcript paneli - boyut ayarı */
        .transcript-panel {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            min-height: 0;
            max-height: 60vh;
            font-size: 15px;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 10;
        }
        
        .transcript-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
            font-size: 1.2rem;
        }
        
        .transcript-content {
            line-height: 1.6;
            font-size: 15px;
            flex: 1;
            overflow-y: auto;
            max-height: calc(60vh - 80px);
        }
        
        .transcript-content p {
            margin-bottom: 15px;
        }
        
        .transcript-content ul, .transcript-content ol {
            padding-left: 20px;
            margin-bottom: 15px;
        }
        
        .transcript-content li {
            margin-bottom: 8px;
        }
        
        .transcript-placeholder {
            text-align: center;
            padding: 40px 20px;
            color: var(--update-item-content-color);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            flex: 1;
        }
        
        .transcript-placeholder i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--link-bg);
        }
        
        .close-transcript {
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .loading-spinner {
            text-align: center;
            padding: 40px;
        }
        
        .loading-spinner i {
            font-size: 2rem;
            color: var(--text-color);
        }
        
        .error-message {
            color: #e53e3e;
            text-align: center;
            padding: 30px;
        }
        
        /* Transcript butonları - ARTIK TRANSCRIPT PANELİNDE */
        .transcript-links {
            padding: 20px;
            margin: 0;
            border-bottom: 2px solid var(--border-color);
        }
        
        .transcript-links h3 {
            font-size: 1.1rem;
            margin-bottom: 15px;
            padding: 0;
        }
        
        .transcript-buttons {
            display: flex;
            gap: 12px;
            margin: 0;
            padding: 0;
        }
        
        .transcript-buttons button {`n            padding: 12px 15px;`n            font-size: 0.9rem;`n            flex: 1;`n            margin: 0;`n            border-radius: 8px;`n            cursor: pointer;`n        }`n        `n        /* Mobilde transkript butonlarını küçült */`n        @media (max-width: 768px) {`n            .transcript-buttons button {`n                padding: 6px 8px !important;`n                font-size: 0.45rem !important;`n                height: auto !important;`n                min-height: 28px !important;`n                line-height: 1.2 !important;`n            }`n        }
        
        /* Responsive düzenlemeler */
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
                height: auto;
            }
            
            .video-section {
                height: auto;
                min-height: 400px;
                border-right: none;
                border-bottom: 2px solid var(--border-color);
                transform: scale(0.95);
            }
            
            .transcript-section {
                height: auto;
                min-height: 300px;
                margin-right: 0;
            }
            
            .video-container {
                height: 350px;
                max-height: 350px;
            }
            
            .transcript-links {
                padding: 15px;
            }
            
            /* Mobilde başlık ve tarih düzenlemesi */
            .header-content {
                flex-direction: row;
                align-items: flex-start;
                gap: 10px;
            }
            
            .back-button {
                align-self: center;
            }
            
            .title-container {
                width: 100%;
                min-width: 0;
            }
            
            .modern-header {
                font-size: 1.2rem;
                gap: 8px;
            }
            
            .logo-icon {
                height: 30px;
            }
            
            .call-date {
                font-size: 0.75rem; /* %25 küçültme (1 * 0.75 = 0.75) */
            }
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 10px 15px;
            }
            
            .header-content {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }
            
            .back-button {
                align-self: flex-end;
                order: 2;
            }
            
            .title-container {
                order: 1;
            }
            
            .main-content {
                padding: 10px;
                gap: 15px;
                overflow: visible;
            }
            
            .video-section,
            .transcript-section {
                padding: 12px;
                height: auto;
            }
            
            .transcript-buttons {
                flex-direction: column;
            }
            
            .video-container {
                height: 250px;
                max-height: 250px;
                margin-bottom: 10px;
            }
            
            .transcript-header {
                font-size: 1.1rem;
            }
            
            .transcript-content {
                font-size: 14px;
            }
            
            .video-section {
                transform: scale(0.95);
            }
            
            .transcript-links {
                padding: 15px 10px;
            }
            
            .transcript-buttons button {
                padding: 6px 8px !important; /* Küçük padding */
                font-size: 0.45rem !important; /* %50 küçültme */
                height: auto !important; /* Yüksekliği küçült */
                min-height: 28px !important; /* Minimum yükseklik */
                line-height: 1.2 !important; /* Satır yüksekliği */
            }
            
            .modern-header {
                font-size: 1.1rem;
                gap: 6px;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            
            .logo-icon {
                height: 28px;
            }
            
            .call-date {
                font-size: 0.71rem; /* %25 küçültme (0.95 * 0.75 = 0.7125) */
            }
            
            /* MOBİL İÇİN BAŞLIK DÜZENLEMESİ - "Blocksense" kelimesini gizle */
            .hide-on-mobile {
                display: none;
            }
        }

        /* NEW: Add a wrapper to allow scrolling on mobile */
        .content-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        /* YENİ: Büyük ekranlarda video bölümünü sabitlemek için */
        @media (min-width: 1201px) {
            .video-section.fixed-video {
                position: sticky;
                top: 15px;
                align-self: flex-start;
                height: fit-content;
            }
            
            .video-container {
                height: auto;
                max-height: none;
            }
            
            .video-container-wrapper {
                height: auto;
            }
        }
        
        /* Footer Info Styles */
        .footer-info {
            text-align: center;
            margin-top: 40px;
            padding: 20px 0;
            color: var(--made-by-text-color);
            font-size: 0.9rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            border-top: none !important;
        }
        
        .made-by {
            font-weight: normal;
            margin: 0;
        }
        
        .app-version {
            font-weight: normal;
            margin: 0;
        }
        
        /* Dark modda header ve main-content rengi yumuşatılmış siyah - tüm boyutlar için */
        [data-theme="dark"] .header {
            background: #2a2a2a !important; /* Yumuşatılmış siyah header */
        }
        
        [data-theme="dark"] .main-content {
            background: #2a2a2a !important; /* Header ile aynı renk */
        }
        
        /* Back to Main butonunun yazı rengi siyah - her yerde geçerli */
        .back-button .litepaper-link {
            color: #000000 !important; /* Siyah yazı */
        }
        
        /* Mobil için header düzenlemeleri - Daha güçlü selector */
        @media (max-width: 768px) {
            .header .header-content .title-container .header-description {
                margin-left: 0px !important; /* Mobilde başlıkla hizalı başla */
                margin-top: 0px !important;
            }
            
            .header .header-content .title-container .header-description p {
                font-size: 0.7rem !important; /* Daha küçük font - alt satıra inmemesi için */
                line-height: 1.2 !important;
                white-space: nowrap !important; /* Alt satıra inmesin */
                overflow: hidden !important;
                text-overflow: ellipsis !important;
                color: #2d3748 !important; /* Light modda koyu renk */
            }
            
            /* Dark modda açıklama yazısı rengi */
            [data-theme="dark"] .header .header-content .title-container .header-description p {
                color: #e2e8f0 !important; /* Açık gri - dark modda okunabilir */
            }
            
            
            /* Tarihlendirme yazısını %25 küçült */
            .call-date {
                font-size: 0.375rem !important; /* %25 küçültme (0.5 * 0.75 = 0.375) */
            }
            
            /* Açıklama yazısını başlıkla hizalı yap (C harfinin altından başla) ve alt satıra inmeyecek şekilde ayarla */
            .header-description {
                margin-left: 0px !important; /* Başlıkla hizalı - C harfinin altından başla */
                margin-top: 0px !important;
                max-width: 100% !important;
            }
            
            .header-description p {
                font-size: 0.5rem !important; /* Daha da küçük font - telefon ekranında alt satıra inmesin */
                line-height: 1.1 !important;
                white-space: nowrap !important; /* Alt satıra inmesin */
                overflow: hidden !important;
                text-overflow: ellipsis !important;
                max-width: 100% !important;
            }
            
            /* Mobilde Back to Main buton düzenlemeleri - Beyaz arka plan, siyah yazı */
            .back-button .litepaper-link {
                font-size: 0.5rem !important; /* %50 küçültme */
                color: #000000 !important; /* Siyah yazı */
                background: #ffffff !important; /* Beyaz arka plan */
                border: 1px solid #000000 !important; /* Siyah çerçeve */
                padding: 5px 10px !important; /* Küçük padding */
            }
            
            /* Hover'da renk değişmesin - sabit kal */
            .back-button .litepaper-link:hover {
                color: #000000 !important; /* Siyah yazı */
                background: #ffffff !important; /* Beyaz arka plan */
                border: 1px solid #000000 !important; /* Siyah çerçeve */
            }
            
            /* Transkript butonlarını %50 küçült */
            .transcript-buttons button {
                font-size: 0.45rem !important; /* %50 küçültme */
                padding: 6px 8px !important; /* Küçük padding */
                height: auto !important; /* Yüksekliği küçült */
                min-height: 28px !important; /* Minimum yükseklik */
                line-height: 1.2 !important; /* Satır yüksekliği */
            }
        }
        
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div class="title-container">
                    <div class="title-row">
                        <h1 class="modern-header">
                            <img src="pirate.png" alt="Blocksense Network Monitor" class="logo-icon" id="blockIcon"/>
                            <span class="hide-on-mobile">Blocksense </span><span>Community Call #</span>
                            <span id="callNumberDisplay"></span>
                        </h1>
                        <div class="call-date" id="callDateDisplay"></div>
                    </div>
                    <div class="header-description">
                        <p>Track All About Blocksense Network updates, latest posts & announcements.</p>
                    </div>
                </div>
                <div class="back-button">
                    <a href="index.html" class="litepaper-link">
                        <i class="fas fa-arrow-left"></i> Back to Main
                    </a>
                </div>
            </div>
        </div>
        
        <div class="content-wrapper">
            <div class="main-content">
                <div class="video-section">
                    <div class="video-container-wrapper">
                        <div class="video-container">
                            <iframe id="youtubePlayer" width="100%" height="100%" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
                
                <div class="transcript-section">
                    <div class="transcript-links">
                        <h3>Transcripts:</h3>
                        <div class="transcript-buttons">
                            <button id="engTranscriptBtn" class="primary-btn small-btn" type="button">
                                <i class="fas fa-file-alt"></i> English Transcript
                            </button>
                            <button id="trTranscriptBtn" class="primary-btn small-btn" type="button">
                                <i class="fas fa-file-alt"></i> Türkçe Transcript
                            </button>
                        </div>
                    </div>
                    <div class="transcript-panel" id="transcriptPanel">
                        <div class="transcript-placeholder">
                            <i class="fas fa-file-alt"></i>
                            <h3>Transcript Panel</h3>
                            <p>Select a transcript language to view the content here.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer Info -->
    <div class="footer-info">
        <div class="made-by">
            Made By Laedrianus with love for Blocksense Network
        </div>
        <div class="app-version">App Version: v1.4.0</div>
    </div>
    
    <button id="themeToggle" class="theme-toggle">
        <i class="fas fa-sun"></i>
    </button>
    
    <script>
        // URL'den call parametresini al
        const urlParams = new URLSearchParams(window.location.search);
        let callNumber = urlParams.get('call');
        
        // Fire Side Chat için varsayılan değer (eğer parametre yoksa)
        if (!callNumber) {
            callNumber = 'fireside';
        }
        
        
        // Community Call YouTube linkleri
        const youtubeLinks = [
            "https://www.youtube.com/embed/SEUy0ZWxz2k",
            "https://www.youtube.com/embed/Ur97X-0d0fs",
            "https://www.youtube.com/embed/iDeHWx3oyXU",
            "https://www.youtube.com/embed/VKhyEBkCIOE",
            "https://www.youtube.com/embed/VKhyEBkCIOE",
            "https://www.youtube.com/embed/VGjcGeAJNlc",
            "https://www.youtube.com/embed/DxzUVY6kODk",
            "https://www.youtube.com/embed/V_bggpmFq1c",
            "https://www.youtube.com/embed/mKBtSR0oO64",
            "https://www.youtube.com/embed/a3e1oFF_NIo",
            "https://www.youtube.com/embed/dyPuiiOh7KY"
        ];
        
        // Fire Side Chat YouTube link
        const fireSideChatLink = "https://www.youtube.com/embed/OsoJllwVViE";
        
        // Community Call tarihleri
        const callDates = [
            "12 August 2024",
            "8 November 2024",
            "7 December 2024",
            "11 January 2025",
            "6 February 2025",
            "7 March 2025",
            "3 April 2025",
            "5 May 2025",
            "30 May 2025",
            "2 July 2025",
            "31 July 2025"
        ];
        
        // Sayfa yüklendiğinde
        document.addEventListener('DOMContentLoaded', function() {
            if (callNumber === 'fireside') {
                // Fire Side Chat
                const video = document.getElementById('youtubePlayer');
                video.src = fireSideChatLink;
                
                // Call number'ı göster
                document.getElementById('callNumberDisplay').textContent = 'Fire Side Chat';
                
                // Call tarihini göster
                document.getElementById('callDateDisplay').textContent = '(5 September 2025)';
                
                document.title = `Blocksense Fire Side Chat - Blocksense Network Monitor`;
                
                // Transcript butonlarına tıklama olaylarını ekle
                document.getElementById('engTranscriptBtn').addEventListener('click', function(e) {
                    e.preventDefault();
                    this.blur();
                    loadTranscript(callNumber, 'ENG');
                });
                
                document.getElementById('trTranscriptBtn').addEventListener('click', function(e) {
                    e.preventDefault();
                    this.blur();
                    loadTranscript(callNumber, 'TR');
                });
            } else if (callNumber && callNumber >= 1 && callNumber <= 11) {
                const video = document.getElementById('youtubePlayer');
                video.src = youtubeLinks[callNumber - 1];
                
                // Call number'ı göster
                document.getElementById('callNumberDisplay').textContent = callNumber;
                
                // Call tarihini göster
                document.getElementById('callDateDisplay').textContent = `(${callDates[callNumber - 1]})`;
                
                document.title = `Blocksense Community Call #${callNumber} - Blocksense Network Monitor`;
                
                // Transcript butonlarına tıklama olaylarını ekle
                document.getElementById('engTranscriptBtn').addEventListener('click', function(e) {
                    e.preventDefault();
                    this.blur();
                    loadTranscript(callNumber, 'ENG');
                });
                
                document.getElementById('trTranscriptBtn').addEventListener('click', function(e) {
                    e.preventDefault();
                    this.blur();
                    loadTranscript(callNumber, 'TR');
                });
            } else if (callNumber === 'fireside') {
                // Fire Side Chat için transcript butonları
                document.getElementById('engTranscriptBtn').addEventListener('click', function(e) {
                    e.preventDefault();
                    this.blur();
                    loadTranscript('fireside', 'ENG');
                });
                
                document.getElementById('trTranscriptBtn').addEventListener('click', function(e) {
                    e.preventDefault();
                    this.blur();
                    loadTranscript('fireside', 'TR');
                });
            } else {
                document.querySelector('.main-content').innerHTML = `
                    <div class="error-message" style="width: 100%; padding: 40px;">
                        <p>Invalid community call number. Please select a valid call from the main page.</p>
                        <a href="index.html" class="primary-btn">Back to Main Page</a>
                    </div>
                `;
            }
            
            // Tema değiştirme butonu
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                // Mevcut temayı kontrol et
                const savedTheme = localStorage.getItem('theme') || 'light';
                document.documentElement.setAttribute('data-theme', savedTheme);
                
                // İkonu ayarla
                const icon = themeToggle.querySelector('i');
                icon.className = savedTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                
                themeToggle.addEventListener('click', function() {
                    const currentTheme = document.documentElement.getAttribute('data-theme');
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                    
                    // İkonu güncelle
                    icon.className = newTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                });
            }
        });
        
        // Transcript yükleme fonksiyonu
        function loadTranscript(callNumber, language) {
            const transcriptPanel = document.getElementById('transcriptPanel');
            
            // Yükleniyor mesajı göster
            transcriptPanel.innerHTML = `
                <div class="transcript-header">
                    <h3>${language} Transcript</h3>
                    <button class="close-transcript" onclick="closeTranscript()"><i class="fas fa-times"></i></button>
                </div>
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i> Loading transcript...
                </div>
            `;
            
            // Transcript dosya yolunu belirle
            const transcriptPath = callNumber === 'fireside' 
                ? `transcripts/${language}/fireside.txt`
                : `transcripts/${language}/call-${callNumber}.txt`;
            
            
            // Fetch API ile transcript dosyasını yükle
            fetch(transcriptPath)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Transcript not found');
                    }
                    return response.text();
                })
                .then(data => {
                    // Başarılı yükleme - transcript içeriğini göster
                    transcriptPanel.innerHTML = `
                        <div class="transcript-header">
                            <h3>${language} Transcript</h3>
                            <button class="close-transcript" onclick="closeTranscript()"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="transcript-content">
                            ${data.replace(/\n/g, '<br>')}
                        </div>
                    `;
                    // Transcript yüklendiğinde ve ekran genişliği 1200px üstündeyse video bölümünü sabitle
                    if (window.innerWidth > 1200) {
                        document.querySelector('.video-section').classList.add('fixed-video');
                    }
                })
                .catch(error => {
                    // Hata durumunda kullanıcıyı bilgilendir
                    console.error('Transcript loading error:', error);
                    
                    // Örnek içerik göster
                    const sampleContent = callNumber === 'fireside' 
                        ? (language === 'ENG' 
                            ? `<p>This is a sample English transcript for Blocksense Fire Side Chat.</p>
                               <p>In this fireside chat, we discussed:</p>
                               <ul>
                                 <li>Informal updates and insights</li>
                                 <li>Community questions and answers</li>
                                 <li>Behind-the-scenes developments</li>
                                 <li>Casual conversation about the project</li>
                               </ul>
                               <p>The full transcript will be available here once it's prepared.</p>`
                            : `<p>Bu, Blocksense Fire Side Chat için örnek bir Türkçe transkripttir.</p>
                               <p>Bu samimi sohbette şunları tartıştık:</p>
                               <ul>
                                 <li>Gayri resmi güncellemeler ve içgörüler</li>
                                 <li>Topluluk soruları ve cevapları</li>
                                 <li>Perde arkası gelişmeler</li>
                                 <li>Proje hakkında rahat sohbet</li>
                               </ul>
                               <p>Tam transkript hazır olduğunda burada erişilebilir olacaktır.</p>`)
                        : (language === 'ENG' 
                            ? `<p>This is a sample English transcript for Blocksense Community Call #${callNumber}.</p>
                               <p>In this call, we discussed the latest developments in the Blocksense network, including:</p>
                               <ul>
                                 <li>New feature updates</li>
                                 <li>Network performance metrics</li>
                                 <li>Upcoming roadmap items</li>
                                 <li>Community questions and answers</li>
                               </ul>
                               <p>The full transcript will be available here once it's prepared.</p>`
                            : `<p>Bu, ${callNumber}. Blocksense Topluluk Görüşmesi için örnek bir Türkçe transkripttir.</p>
                               <p>Bu görüşmede, Blocksense ağındaki son gelişmeleri tartıştık:</p>
                               <ul>
                                 <li>Yeni özellik güncellemeleri</li>
                                 <li>Ağ performans metrikleri</li>
                                 <li>Yaklaşan yol haritası maddeleri</li>
                                 <li>Topluluk soruları ve cevapları</li>
                               </ul>
                               <p>Tam transkript hazır olduğunda burada erişilebilir olacaktır.</p>`);
                    
                    transcriptPanel.innerHTML = `
                        <div class="transcript-header">
                            <h3>${language} Transcript</h3>
                            <button class="close-transcript" onclick="closeTranscript()"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="transcript-content">
                            ${sampleContent}
                            <p class="error-message">Note: This is sample content. The actual transcript file could not be loaded from: ${transcriptPath}</p>
                        </div>
                    `;
                    // Hata durumunda da video bölümünü sabitle (sadece büyük ekranlarda)
                    if (window.innerWidth > 1200) {
                        document.querySelector('.video-section').classList.add('fixed-video');
                    }
                });
        }
        
        // Transcript içeriğini biçimlendirme fonksiyonu
        function formatTranscript(text) {
            // Satır sonlarını <br> etiketlerine dönüştür
            return text.replace(/\n/g, '<br>');
        }
        
        // Transcript panelini kapatma fonksiyonu
        function closeTranscript() {
            const transcriptPanel = document.getElementById('transcriptPanel');
            transcriptPanel.innerHTML = `
                <div class="transcript-placeholder">
                    <i class="fas fa-file-alt"></i>
                    <h3>Transcript Panel</h3>
                    <p>Select a transcript language to view the content here.</p>
                </div>
            `;
            // Transcript paneli kapatıldığında video bölümünü sabitlemeyi kaldır (sadece büyük ekranlarda)
            if (window.innerWidth > 1200) {
                document.querySelector('.video-section').classList.remove('fixed-video');
            }
        }
        
        // Pencere boyutu değiştiğinde sabitlemeyi yönet (Responsive için)
        window.addEventListener('resize', function() {
            const videoSection = document.querySelector('.video-section');
            if (window.innerWidth <= 1200) {
                videoSection.classList.remove('fixed-video');
            } else {
                // Eğer transcript paneli açıkken yeniden boyutlandırılırsa
                const transcriptContent = document.querySelector('.transcript-content');
                if (transcriptContent) {
                    videoSection.classList.add('fixed-video');
                }
            }
        });
    </script>
</body>
</html>


